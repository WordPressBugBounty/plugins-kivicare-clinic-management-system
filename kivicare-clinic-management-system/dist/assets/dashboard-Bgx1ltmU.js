import{r as m,R as cr,j as e,u as H,a as dr,q as ur,b as fr,s as yt,c as hr,d as mr,L as G,_ as P,e as Nt,f as U,g as J,O as _t,h as pr,N as te,i as gr,k as vr,l as xr,m as br,n as jr,A as re,o as wr,p as yr,t as Nr,v as _r,Q as kr}from"./index-Cty4Gm2O.js";import{r as Sr,u as z,a as Rr,b as Cr,m as qr,c as Tr,$ as Ir,S as Y,N as Lr,d as hn,e as kt,B as Er,f as Or,g as Ar,h as $r,q as mn,i as Pr,j as Mr,k as A,l as M,A as Dr,n as V,o as St,p as Rt,s as Fr,t as Ur,v as Ct,w as Wr,x as ln,C as qt,O as Hr,y as Tt,z as Br,D as O,I as pn,E as ae,T as Gr,F as Kr,G as gn,H as se,J as ie,L as zr,K as Vr,M as Qr}from"./TransitionRoutes-B3VF7Cy-.js";import{Q as Jr}from"./queryClient-CxBBjupU.js";import{R as Zr}from"./index-CQXckJez.js";function Yr(t){return m.createElement(cr,{flushSync:Sr.flushSync,...t})}function Xr(t,n,r,a=!1){const s=z(r);m.useEffect(()=>{const i=typeof t=="function"?t():t;return i.addEventListener(n,s,a),()=>i.removeEventListener(n,s,a)},[t])}const X=m.createContext(null),ea=["children","usePopper"];function na(t,n){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(n.indexOf(a)>=0)continue;r[a]=t[a]}return r}const ta=()=>{};function It(t={}){const n=m.useContext(X),[r,a]=Rr(),s=m.useRef(!1),{flip:i,offset:o,rootCloseEvent:l,fixed:c=!1,placement:h,popperConfig:d={},enableEventListeners:f=!0,usePopper:p=!!n}=t,x=n?.show==null?!!t.show:n.show;x&&!s.current&&(s.current=!0);const y=L=>{n?.toggle(!1,L)},{placement:w,setMenu:u,menuElement:b,toggleElement:g}=n||{},v=Cr(g,b,qr({placement:h||w||"bottom-start",enabled:p,enableEvents:f??x,offset:o,flip:i,fixed:c,arrowElement:r,popperConfig:d})),S=Object.assign({ref:u||ta,"aria-labelledby":g?.id},v.attributes.popper,{style:v.styles.popper}),j={show:x,placement:w,hasShown:s.current,toggle:n?.toggle,popper:p?v:null,arrowProps:p?Object.assign({ref:a},v.attributes.arrow,{style:v.styles.arrow}):{}};return Tr(b,y,{clickTrigger:l,disabled:!x}),[S,j]}function Lt(t){let{children:n,usePopper:r=!0}=t,a=na(t,ea);const[s,i]=It(Object.assign({},a,{usePopper:r}));return e.jsx(e.Fragment,{children:n(s,i)})}Lt.displayName="DropdownMenu";const Et=t=>{var n;return((n=t.getAttribute("role"))==null?void 0:n.toLowerCase())==="menu"},vn=()=>{};function Ot(){const t=Ir(),{show:n=!1,toggle:r=vn,setToggle:a,menuElement:s}=m.useContext(X)||{},i=m.useCallback(l=>{r(!n,l)},[n,r]),o={id:t,ref:a||vn,onClick:i,"aria-expanded":!!n};return s&&Et(s)&&(o["aria-haspopup"]=!0),[o,{show:n,toggle:r}]}function At({children:t}){const[n,r]=Ot();return e.jsx(e.Fragment,{children:t(n,r)})}At.displayName="DropdownToggle";const ra=["eventKey","disabled","onClick","active","as"];function aa(t,n){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(n.indexOf(a)>=0)continue;r[a]=t[a]}return r}function $t({key:t,href:n,active:r,disabled:a,onClick:s}){const i=m.useContext(Y),o=m.useContext(Lr),{activeKey:l}=o||{},c=hn(t,n),h=r==null&&t!=null?hn(l)===c:r;return[{onClick:z(f=>{a||(s?.(f),i&&!f.isPropagationStopped()&&i(c,f))}),"aria-disabled":a||void 0,"aria-selected":h,[kt("dropdown-item")]:""},{isActive:h}]}const Pt=m.forwardRef((t,n)=>{let{eventKey:r,disabled:a,onClick:s,active:i,as:o=Er}=t,l=aa(t,ra);const[c]=$t({key:r,href:l.href,disabled:a,onClick:s,active:i});return e.jsx(o,Object.assign({},l,{ref:n},c))});Pt.displayName="DropdownItem";function xn(){const t=Mr(),n=m.useRef(null),r=m.useCallback(a=>{n.current=a,t()},[t]);return[n,r]}function Q({defaultShow:t,show:n,onSelect:r,onToggle:a,itemSelector:s=`* [${kt("dropdown-item")}]`,focusFirstItemOnShow:i,placement:o="bottom-start",children:l}){const c=Or(),[h,d]=Ar(n,t,a),[f,p]=xn(),x=f.current,[y,w]=xn(),u=y.current,b=$r(h),g=m.useRef(null),v=m.useRef(!1),S=m.useContext(Y),j=m.useCallback((N,_,C=_?.type)=>{d(N,{originalEvent:_,source:C})},[d]),L=z((N,_)=>{r?.(N,_),j(!1,_,"select"),_.isPropagationStopped()||S?.(N,_)}),R=m.useMemo(()=>({toggle:j,placement:o,show:h,menuElement:x,toggleElement:u,setMenu:p,setToggle:w}),[j,o,h,x,u,p,w]);x&&b&&!h&&(v.current=x.contains(x.ownerDocument.activeElement));const k=z(()=>{u&&u.focus&&u.focus()}),q=z(()=>{const N=g.current;let _=i;if(_==null&&(_=f.current&&Et(f.current)?"keyboard":!1),_===!1||_==="keyboard"&&!/^key.+$/.test(N))return;const C=mn(f.current,s)[0];C&&C.focus&&C.focus()});m.useEffect(()=>{h?q():v.current&&(v.current=!1,k())},[h,v,k,q]),m.useEffect(()=>{g.current=null});const D=(N,_)=>{if(!f.current)return null;const C=mn(f.current,s);let E=C.indexOf(N)+_;return E=Math.max(0,Math.min(E,C.length)),C[E]};return Xr(m.useCallback(()=>c.document,[c]),"keydown",N=>{var _,C;const{key:E}=N,I=N.target,K=(_=f.current)==null?void 0:_.contains(I),ne=(C=y.current)==null?void 0:C.contains(I);if(/input|textarea/i.test(I.tagName)&&(E===" "||E!=="Escape"&&K||E==="Escape"&&I.type==="search")||!K&&!ne||E==="Tab"&&(!f.current||!h))return;g.current=N.type;const B={originalEvent:N,source:N.type};switch(E){case"ArrowUp":{const T=D(I,-1);T&&T.focus&&T.focus(),N.preventDefault();return}case"ArrowDown":if(N.preventDefault(),!h)d(!0,B);else{const T=D(I,1);T&&T.focus&&T.focus()}return;case"Tab":Pr(I.ownerDocument,"keyup",T=>{var F;(T.key==="Tab"&&!T.target||!((F=f.current)!=null&&F.contains(T.target)))&&d(!1,B)},{once:!0});break;case"Escape":E==="Escape"&&(N.preventDefault(),N.stopPropagation()),d(!1,B);break}}),e.jsx(Y.Provider,{value:L,children:e.jsx(X.Provider,{value:R,children:l})})}Q.displayName="Dropdown";Q.Menu=Lt;Q.Toggle=At;Q.Item=Pt;const cn=m.createContext({});cn.displayName="DropdownContext";const Mt=m.forwardRef(({className:t,bsPrefix:n,as:r="hr",role:a="separator",...s},i)=>(n=A(n,"dropdown-divider"),e.jsx(r,{ref:i,className:M(t,n),role:a,...s})));Mt.displayName="DropdownDivider";const Dt=m.forwardRef(({className:t,bsPrefix:n,as:r="div",role:a="heading",...s},i)=>(n=A(n,"dropdown-header"),e.jsx(r,{ref:i,className:M(t,n),role:a,...s})));Dt.displayName="DropdownHeader";const Ft=m.forwardRef(({bsPrefix:t,className:n,eventKey:r,disabled:a=!1,onClick:s,active:i,as:o=Dr,...l},c)=>{const h=A(t,"dropdown-item"),[d,f]=$t({key:r,href:l.href,disabled:a,onClick:s,active:i});return e.jsx(o,{...l,...d,ref:c,className:M(n,h,f.isActive&&"active",a&&"disabled")})});Ft.displayName="DropdownItem";const Ut=m.forwardRef(({className:t,bsPrefix:n,as:r="span",...a},s)=>(n=A(n,"dropdown-item-text"),e.jsx(r,{ref:s,className:M(t,n),...a})));Ut.displayName="DropdownItemText";function Wt(t,n){return t}function Ht(t,n,r){const a=r?"top-end":"top-start",s=r?"top-start":"top-end",i=r?"bottom-end":"bottom-start",o=r?"bottom-start":"bottom-end",l=r?"right-start":"left-start",c=r?"right-end":"left-end",h=r?"left-start":"right-start",d=r?"left-end":"right-end";let f=t?o:i;return n==="up"?f=t?s:a:n==="end"?f=t?d:h:n==="start"?f=t?c:l:n==="down-centered"?f="bottom":n==="up-centered"&&(f="top"),f}const Bt=m.forwardRef(({bsPrefix:t,className:n,align:r,rootCloseEvent:a,flip:s=!0,show:i,renderOnMount:o,as:l="div",popperConfig:c,variant:h,...d},f)=>{let p=!1;const x=m.useContext(V),y=A(t,"dropdown-menu"),{align:w,drop:u,isRTL:b}=m.useContext(cn);r=r||w;const g=m.useContext(St),v=[];if(r)if(typeof r=="object"){const N=Object.keys(r);if(N.length){const _=N[0],C=r[_];p=C==="start",v.push(`${y}-${_}-${C}`)}}else r==="end"&&(p=!0);const S=Ht(p,u,b),[j,{hasShown:L,popper:R,show:k,toggle:q}]=It({flip:s,rootCloseEvent:a,show:i,usePopper:!x&&v.length===0,offset:[0,2],popperConfig:c,placement:S});if(j.ref=Rt(Wt(f),j.ref),Fr(()=>{k&&R?.update()},[k]),!L&&!o&&!g)return null;typeof l!="string"&&(j.show=k,j.close=()=>q?.(!1),j.align=r);let D=d.style;return R!=null&&R.placement&&(D={...d.style,...j.style},d["x-placement"]=R.placement),e.jsx(l,{...d,...j,style:D,...(v.length||x)&&{"data-bs-popper":"static"},className:M(n,y,k&&"show",p&&`${y}-end`,h&&`${y}-${h}`,...v)})});Bt.displayName="DropdownMenu";const Gt=m.forwardRef(({bsPrefix:t,split:n,className:r,childBsPrefix:a,as:s=Ur,...i},o)=>{const l=A(t,"dropdown-toggle"),c=m.useContext(X);a!==void 0&&(i.bsPrefix=a);const[h]=Ot();return h.ref=Rt(h.ref,Wt(o)),e.jsx(s,{className:M(r,l,n&&`${l}-split`,c?.show&&"show"),...h,...i})});Gt.displayName="DropdownToggle";const Kt=m.forwardRef((t,n)=>{const{bsPrefix:r,drop:a="down",show:s,className:i,align:o="start",onSelect:l,onToggle:c,focusFirstItemOnShow:h,as:d="div",navbar:f,autoClose:p=!0,...x}=Ct(t,{show:"onToggle"}),y=m.useContext(St),w=A(r,"dropdown"),u=Wr(),b=R=>p===!1?R==="click":p==="inside"?R!=="rootClose":p==="outside"?R!=="select":!0,g=ln((R,k)=>{var q;!((q=k.originalEvent)==null||(q=q.target)==null)&&q.classList.contains("dropdown-toggle")&&k.source==="mousedown"||(k.originalEvent.currentTarget===document&&(k.source!=="keydown"||k.originalEvent.key==="Escape")&&(k.source="rootClose"),b(k.source)&&c?.(R,k))}),S=Ht(o==="end",a,u),j=m.useMemo(()=>({align:o,drop:a,isRTL:u}),[o,a,u]),L={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return e.jsx(cn.Provider,{value:j,children:e.jsx(Q,{placement:S,show:s,onSelect:l,onToggle:g,focusFirstItemOnShow:h,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:y?x.children:e.jsx(d,{...x,ref:n,className:M(i,s&&"show",L[a])})})})});Kt.displayName="Dropdown";const W=Object.assign(Kt,{Toggle:Gt,Menu:Bt,Item:Ft,ItemText:Ut,Divider:Mt,Header:Dt}),zt=m.forwardRef(({bsPrefix:t,className:n,as:r,...a},s)=>{t=A(t,"navbar-brand");const i=r||(a.href?"a":"span");return e.jsx(i,{...a,ref:s,className:M(n,t)})});zt.displayName="NavbarBrand";const Vt=m.forwardRef(({children:t,bsPrefix:n,...r},a)=>{n=A(n,"navbar-collapse");const s=m.useContext(V);return e.jsx(qt,{in:!!(s&&s.expanded),...r,children:e.jsx("div",{ref:a,className:n,children:t})})});Vt.displayName="NavbarCollapse";const Qt=m.forwardRef(({bsPrefix:t,className:n,children:r,label:a="Toggle navigation",as:s="button",onClick:i,...o},l)=>{t=A(t,"navbar-toggler");const{onToggle:c,expanded:h}=m.useContext(V)||{},d=ln(f=>{i&&i(f),c&&c()});return s==="button"&&(o.type="button"),e.jsx(s,{...o,ref:l,onClick:d,"aria-label":a,className:M(n,t,!h&&"collapsed"),children:r||e.jsx("span",{className:`${t}-icon`})})});Qt.displayName="NavbarToggle";const Jt=m.forwardRef(({onHide:t,...n},r)=>{const a=m.useContext(V),s=ln(()=>{a==null||a.onToggle==null||a.onToggle(),t?.()});return e.jsx(Hr,{ref:r,show:!!(a!=null&&a.expanded),...n,renderStaticNode:!0,onHide:s})});Jt.displayName="NavbarOffcanvas";const Zt=m.forwardRef(({className:t,bsPrefix:n,as:r="span",...a},s)=>(n=A(n,"navbar-text"),e.jsx(r,{ref:s,className:M(t,n),...a})));Zt.displayName="NavbarText";const Yt=m.forwardRef((t,n)=>{const{bsPrefix:r,expand:a=!0,variant:s="light",bg:i,fixed:o,sticky:l,className:c,as:h="nav",expanded:d,onToggle:f,onSelect:p,collapseOnSelect:x=!1,...y}=Ct(t,{expanded:"onToggle"}),w=A(r,"navbar"),u=m.useCallback((...v)=>{p?.(...v),x&&d&&f?.(!1)},[p,x,d,f]);y.role===void 0&&h!=="nav"&&(y.role="navigation");let b=`${w}-expand`;typeof a=="string"&&(b=`${b}-${a}`);const g=m.useMemo(()=>({onToggle:()=>f?.(!d),bsPrefix:w,expanded:!!d,expand:a}),[w,d,a,f]);return e.jsx(V.Provider,{value:g,children:e.jsx(Y.Provider,{value:u,children:e.jsx(h,{ref:n,...y,className:M(c,w,a&&b,s&&`${w}-${s}`,i&&`bg-${i}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});Yt.displayName="Navbar";const Z=Object.assign(Yt,{Brand:zt,Collapse:Vt,Offcanvas:Jt,Text:Zt,Toggle:Qt});function sa(){const{getAvailableLanguages:t,currentLanguage:n}=H(),r=t(),[a,s]=m.useState(null),i=dr();m.useEffect(()=>{r.length>0&&s(r.find(l=>l.lang===n)||r[0])},[r,n]);const o={control:l=>({...l,minWidth:"180px",borderRadius:"8px",borderColor:"#ccc",boxShadow:"none",fontSize:"14px",cursor:"pointer","&:hover":{borderColor:"#888"}}),singleValue:l=>({...l,display:"flex",alignItems:"center",gap:"8px"}),option:(l,c)=>({...l,display:"flex",alignItems:"center",gap:"8px",backgroundColor:c.isFocused?"#f0f0f0":"white",color:"#333"}),dropdownIndicator:l=>({...l,padding:"4px"})};return e.jsx(e.Fragment,{children:e.jsx(Tt,{value:a,onChange:l=>{i.mutateAsync(l.lang).then(c=>{c?.data?.locale_data[""].lang==="en_US"?fr("kivicare-clinic-management-system"):yt(c?.data?.locale_data||{"":{}},"kivicare-clinic-management-system"),document.documentElement.dir=c?.data?.is_rtl?"rtl":"ltr",document.documentElement.lang=c?.data?.locale})},options:r,styles:o,className:"react-select-box kivicare-clinic-management-systemuage-switcher",classNamePrefix:"react-select",getOptionLabel:l=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(ur,{iso2:l.countryCode,style:{width:20,borderRadius:4}}),e.jsx("div",{className:"kc-header-select-option",children:l.label})]}),isSearchable:!1,getOptionValue:l=>l.lang})})}function ia(t){const[n,r]=m.useState(!1),[a,s]=m.useState(!1),[i,o]=m.useState(()=>localStorage.getItem("kivicare_sidebar_layout")||"normal"),{userRole:l,themeSettings:c,hasCapability:h,darkMode:d,toggleDarkMode:f}=H(),{data:p}=hr(),x=mr(),y=h(l?.includes("patient")?"patient_profile":l?.includes("doctor")?"doctor_profile":l?.includes("receptionist")?"receptionist_profile":l?.includes("clinic_admin")||l==="administrator"?"clinic_profile":"read"),w=()=>{x.mutate(void 0,{onSuccess:g=>{window.location.href=g.data},onError:g=>{console.error("Logout error:",g);const v=window.location.pathname.split("/")[1];window.location.href=window.location.origin+"/"+v+"/wp-login.php"}})},u=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()};m.useEffect(()=>{const g=()=>{r(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",g),()=>document.removeEventListener("fullscreenchange",g)},[]),m.useEffect(()=>{const g=v=>{o(v.detail.layout)};return window.addEventListener("kivicare_sidebar_layout_change",g),()=>window.removeEventListener("kivicare_sidebar_layout_change",g)},[]);const b=l==="administrator";return e.jsx(m.Fragment,{children:e.jsx(Z,{expand:"xl",expanded:a,onToggle:s,collapseOnSelect:!0,className:"nav navbar-light iq-navbar",children:e.jsxs(Br,{fluid:!0,className:"navbar-inner",children:[e.jsx(Z.Brand,{as:G,to:"/",children:e.jsxs("div",{className:"logo-main",children:[e.jsx("img",{className:"logo-normal",src:d?c?.darkSiteLogo||c?.siteLogo||"logo.png":c?.siteLogo||"logo.png",height:"45",alt:P("logo","kivicare-clinic-management-system")}),e.jsx("img",{className:"logo-mini img-fluid",src:d?c?.darkSiteMiniLogo||c?.darkSiteLogo||c?.siteMiniLogo||"logo.png":c?.siteMiniLogo||c?.siteLogo||"logo.png",height:"30",alt:P("logo","kivicare-clinic-management-system")})]})}),e.jsx("div",{className:"sidebar-toggle",onClick:()=>{const g=document.querySelector(".sidebar.sidebar-base");if(g){g.classList.toggle("sidebar-mini");const S=g.classList.contains("sidebar-mini")?"mini":"normal";localStorage.setItem("kivicare_sidebar_layout",S),o(S),window.dispatchEvent(new CustomEvent("kivicare_sidebar_layout_change",{detail:{layout:S}}))}},"data-toggle":"sidebar","data-active":"true",children:e.jsx("i",{className:"icon d-flex",children:e.jsx("svg",{className:"icon-20",width:"20",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"})})})}),e.jsx(Z.Toggle,{id:"navbar-toggle",className:"px-0","aria-controls":"navbarSupportedContent",children:e.jsx("span",{className:"navbar-toggler-btn",children:e.jsx("i",{className:"ph ph-list heading-color fs-2"})})}),e.jsxs(Z.Collapse,{id:"navbarSupportedContent",className:"justify-content-between",children:[e.jsx("div",{children:window.kc_frontend.admin_url!==""&&c?.wordpressLogoStatus===1&&e.jsx("a",{href:window.kc_frontend.admin_url,target:"_blank",children:e.jsx("span",{id:"wp-logo",className:"cursor",children:c.wordpressLogo?.url?e.jsx("img",{src:c.wordpressLogo.url,alt:P("WordPress Logo","kivicare-clinic-management-system"),style:{maxHeight:"38px",maxWidth:"38px",height:"auto"}}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:38,height:38,fill:"#00749a",children:e.jsx("path",{d:"M2.26 16c0 5.45 3.13 10.145 7.7 12.348L3.478 10.435C2.725 12.174 2.26 14.03 2.26 16zm23.015-.696c0-1.68-.638-2.9-1.16-3.768-.696-1.16-1.333-2.087-1.333-3.246 0-1.275.986-2.435 2.32-2.435h.174C22.84 3.594 19.594 2.26 16 2.26A13.95 13.95 0 0 0 4.522 8.463h.87c1.45 0 3.652-.174 3.652-.174.754-.058.812 1.043.116 1.16 0 0-.754.116-1.565.116l4.986 14.84 3.014-8.986-2.145-5.855L12 9.45c-.754-.058-.638-1.16.058-1.16 0 0 2.26.174 3.594.174 1.45 0 3.652-.174 3.652-.174.754-.058.812 1.043.116 1.16 0 0-.754.116-1.565.116L22.84 24.35l1.4-4.58c.58-1.913 1.043-3.246 1.043-4.464zm-9.043 1.913L12.116 29.16c1.217.348 2.55.58 3.884.58 1.623 0 3.13-.3 4.58-.754-.058-.058-.058-.116-.116-.174zM28.058 9.45l.116 1.4c0 1.4-.232 2.957-1.043 4.928l-4.174 12.116c4.058-2.377 6.84-6.783 6.84-11.884-.058-2.377-.696-4.58-1.74-6.55zM16 0C7.188 0 0 7.188 0 16s7.188 16 16 16 16-7.188 16-16S24.812 0 16 0zm0 31.304C7.594 31.304.754 24.464.754 16A15.27 15.27 0 0 1 16 .754 15.27 15.27 0 0 1 31.246 16c0 8.464-6.84 15.304-15.246 15.304z"})})})})}),e.jsxs(O,{className:"align-items-center navbar-list mb-2 mb-lg-0 gap-2 gap-lg-4",children:[window?.KCSandboxManager&&e.jsx("div",{id:"kcsandboxuserswitcher",className:"kc-sandboxuser-switcher",children:e.jsx(Tt,{className:"react-select-box",classNamePrefix:"react-select",options:Object.entries(window.KCSandboxManager.roles).map(([g,v])=>({value:g,label:v})),searchable:!1,defaultValue:{value:window.KCSandboxManager.user_role,label:window.KCSandboxManager.roles[window.KCSandboxManager.user_role]||"Current Role"},formatOptionLabel:g=>{const v={administrator:"ph ph-shield-check",[window.kc_frontend.prefix+"clinic_admin"]:"ph ph-buildings",[window.kc_frontend.prefix+"doctor"]:"ph ph-stethoscope",[window.kc_frontend.prefix+"receptionist"]:"ph ph-identification-badge",[window.kc_frontend.prefix+"patient"]:"ph ph-user"};return e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("i",{className:`${v[g.value]||"ph ph-user"} fs-5 text-primary`}),e.jsx("span",{className:"text-body kc-header-select-option",children:g.label})]})},onChange:g=>{g&&window?.KCSandboxManager?.switchUser&&window.KCSandboxManager.switchUser(g.value)},styles:{control:g=>({...g,minHeight:"36px",borderRadius:"6px",fontSize:"14px",cursor:"pointer"}),menu:g=>({...g,zIndex:9999})},placeholder:"Select Role",isSearchable:!1})}),p?.data?.hideLanguageSwitcher!=="on"&&e.jsx(O.Item,{children:e.jsx(sa,{})}),window?.KCSandboxManager&&window?.KCSandboxManager?.enable_app_sync==="true"&&e.jsx(O.Item,{children:e.jsx(O.Link,{onClick:()=>window?.openQRCodeModal(),style:{cursor:"pointer"},children:e.jsx("span",{className:"btn-action position-relative nav-list-icon",children:e.jsx("i",{className:"fs-4 ph ph-qr-code"})})})}),b&&p?.data?.hideUtilityLinks!=="on"&&e.jsx(O.Item,{children:e.jsx(O.Link,{href:"https://documentation.iqonic.design/kivicare-wordpress/kivicare-lite/documentation/getting-started/welcome-to-kivicare-ehr/",target:"_blank",title:P("Documentation","kivicare-clinic-management-system"),children:e.jsx("span",{className:"btn-action position-relative nav-list-icon",children:e.jsx("span",{className:"btn-inner",children:e.jsx("i",{className:"fs-4 ph ph-files"})})})})}),e.jsx(O.Item,{children:e.jsx(O.Link,{onClick:f,title:d?"Switch to Light Mode":"Switch to Dark Mode",children:e.jsx("span",{className:"btn-action position-relative nav-list-icon",children:e.jsx("span",{className:"btn-inner",children:e.jsx("i",{className:`fs-4 ph ${d?"ph-moon":"ph-sun"}`})})})})}),e.jsx(O.Item,{className:"iq-full-screen",id:"fullscreen-item",children:e.jsx(O.Link,{onClick:u,id:"btnFullscreen",children:e.jsx("div",{className:"icon nav-list-icon",children:e.jsxs("span",{className:"btn-inner",children:[e.jsx("i",{className:`normal-screen fs-4 ph ph-corners-out ${n?"d-none":""}`}),e.jsx("i",{className:`full-normal-screen fs-4 ph ph-corners-in ${n?"":"d-none"}`})]})})})}),e.jsxs(W,{as:O.Item,align:"end",children:[e.jsx(W.Toggle,{as:O.Link,className:"p-0 caret-none d-flex align-items-center",id:"user-dropdown",children:e.jsx("div",{className:"icon-40",children:e.jsxs("span",{className:"btn-inner d-inline-block position-relative",children:[p?.data?.user_profile_image?e.jsx(pn,{src:p.data.user_profile_image,className:"img-fluid rounded-circle object-fit-cover avatar-40"}):e.jsx("div",{className:"img-fluid rounded-circle object-fit-cover d-flex align-items-center justify-content-center bg-primary text-white fw-bold avatar-40 font-size-14",children:p?.data?.user_name?.split(" ").map(g=>g.charAt(0)).join("").toUpperCase()||"U"}),e.jsx("span",{className:"bg-success p-1 rounded-circle position-absolute end-0 bottom-0 border border-3 border-white"})]})})}),e.jsx("style",{children:`
                                        .custom-dropdown-shadow {
                                            box-shadow: 0 10px 30px 0 rgba(0,0,0,0.2) !important;
                                        }
                                    `}),e.jsxs(W.Menu,{className:"custom-dropdown-shadow rounded-3 p-0 border-0 mt-2",style:{minWidth:"280px"},children:[e.jsx("div",{className:"p-3 bg-primary mb-2 rounded-top-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx("div",{className:"avatar-40",children:p?.data?.user_profile_image?e.jsx(pn,{src:p.data.user_profile_image,className:"img-fluid rounded-circle object-fit-cover avatar-40"}):e.jsx("div",{className:"img-fluid rounded-circle object-fit-cover d-flex align-items-center justify-content-center bg-white text-primary fw-bold avatar-40 font-size-20",children:p?.data?.user_name?.split(" ").map(g=>g.charAt(0)).join("").toUpperCase()||"U"})}),e.jsxs("div",{className:"text-white overflow-hidden",children:[e.jsx("h6",{className:"mb-0 text-white text-truncate",children:p?.data?.user_name||P("User","kivicare-clinic-management-system")}),e.jsx("p",{className:"mb-0 font-size-12 text-truncate",children:p?.data?.user_email||""})]})]})}),e.jsxs("div",{className:"px-2 pb-2",children:[y&&e.jsxs(W.Item,{as:G,to:"/profile",className:"rounded px-3 py-2",children:[e.jsx("i",{className:"ph ph-user-circle me-2 fs-5 align-middle"}),e.jsx("span",{className:"align-middle",children:P("My Profile","kivicare-clinic-management-system")})]}),h("change_password")&&e.jsxs(W.Item,{as:G,to:"/change-password",className:"rounded px-3 py-2",children:[e.jsx("i",{className:"ph ph-lock-key me-2 fs-5 align-middle"}),e.jsx("span",{className:"align-middle",children:P("Change Password","kivicare-clinic-management-system")})]}),e.jsx(W.Divider,{className:"my-2",style:{borderColor:"rgba(0, 0, 0, 0.05)"}}),e.jsxs(W.Item,{onClick:w,className:"rounded px-3 py-2 text-danger",children:[e.jsx("i",{className:"ph ph-sign-out me-2 fs-5 align-middle"}),e.jsx("span",{className:"align-middle",children:x.isPending?P("Logging out...","kivicare-clinic-management-system"):P("Logout","kivicare-clinic-management-system")})]})]})]})]})]})]})]})})})}const oa=()=>{const t=(n=3)=>e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"nav-item static-item",children:e.jsx("div",{className:"nav-link static-item disabled text-start",children:e.jsx("span",{className:"default-icon",children:e.jsx(ae,{width:"60px",height:"0.875rem"})})})}),Array.from({length:n}).map((r,a)=>e.jsx("li",{className:"nav-item",children:e.jsxs("div",{className:"nav-link",children:[e.jsx("i",{className:"icon",children:e.jsx(ae,{width:"20px",height:"20px",style:{borderRadius:"4px"}})}),e.jsx("span",{className:"item-name",children:e.jsx(ae,{width:`${80+Math.random()*40}px`,height:"0.875rem"})})]})},a))]});return e.jsxs("ul",{className:"navbar-nav iq-main-menu",id:"sidebar-menu",children:[t(2),t(3),t(3),t(3),t(1),t(3)]})};function la(){const{themeSettings:t,sidebarItems:n=[],isAddonActive:r,loading:a,darkMode:s}=H(),i=Nt(),[o,l]=m.useState({}),[c,h]=m.useState(()=>localStorage.getItem("kivicare_sidebar_layout")==="mini"),d=m.useRef();m.useEffect(()=>{d.current&&(localStorage.getItem("kivicare_sidebar_layout")==="mini"?d.current.classList.add("sidebar-mini"):d.current.classList.remove("sidebar-mini"))},[]),m.useEffect(()=>{const u=b=>{if(b.key==="kivicare_sidebar_layout"){const g=b.newValue==="mini";h(g),d.current&&(g?d.current.classList.add("sidebar-mini"):d.current.classList.remove("sidebar-mini"))}};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[]),m.useEffect(()=>{const u={};n.forEach(b=>{b.type==="parent"&&b.childrens&&b.childrens.some(v=>i.pathname.startsWith(v.link))&&(u[b.link]=!0)}),l(u)},[i.pathname,n]);const f=u=>{l(b=>({...b,[u]:!b[u]}))},p=u=>u.type==="route"?!!(i.pathname===u.link||i.pathname.startsWith(u.link+"/")):!1,x=u=>["encounter_template","tax","billings","patient_report","clinic-revenue-reports"].includes(u.routeClass),y=u=>e.jsx("li",{className:"nav-item static-item",children:e.jsxs("a",{className:"nav-link static-item disabled text-start",href:"#",tabIndex:"-1",children:[e.jsx("span",{className:"default-icon",children:U(u.label,"admin","kivicare-clinic-management-system")}),e.jsx("span",{className:"mini-icon","data-bs-toggle":"tooltip","data-bs-placement":"right",title:U(u.label,"admin","kivicare-clinic-management-system"),children:"-"})]})},u.routeClass),w=u=>{const b=u.link.replace(/\./g,"-")||u.routeClass,g=p(u),v=o[u.link]||!1;if(u.type==="group")return y(u);if(u.type==="parent"&&u.childrens)return e.jsxs("li",{className:"nav-item",children:[e.jsxs("a",{className:`nav-link ${v?"show":"collapsed"}`,onClick:()=>f(u.link),role:"button","aria-expanded":v,children:[e.jsx("i",{className:"icon",children:e.jsx("i",{className:u.iconClass})}),e.jsx("span",{className:"item-name",children:U(u.label,"admin","kivicare-clinic-management-system")}),e.jsx("i",{className:"right-icon",children:e.jsx("i",{className:`ph ph-caret-right ${v?"rotate-90":""}`})})]}),e.jsx(qt,{in:v,children:e.jsx("ul",{className:"sub-nav",id:b,children:u.childrens.map(j=>{const L=p(j);return e.jsx("li",{className:`nav-item ${L?"active":""}`,children:j.type==="route"?e.jsxs(G,{className:`nav-link ${L?"active":""}`,to:`${j.link}`,children:[e.jsx("i",{className:"icon",children:e.jsx("i",{className:j.iconClass})}),e.jsx("span",{className:"item-name",children:U(j.label,"admin","kivicare-clinic-management-system")}),j.routeClass==="encounter_template"&&!r("kiviPro")&&e.jsx("span",{className:"pro-badge",children:"PRO"})]}):e.jsxs("a",{className:"nav-link",href:j.link,target:j.type==="href"?"_blank":"_self",rel:j.type==="href"?"noopener noreferrer":"",children:[e.jsx("i",{className:"icon",children:e.jsx("i",{className:j.iconClass})}),e.jsx("span",{className:"item-name",children:U(j.label,"admin","kivicare-clinic-management-system")})]})},`${b}-${j.link}`)})})})]},b);const S=x(u)&&!r("kiviPro");return e.jsx("li",{className:`nav-item ${g?"active":""}`,children:u.type==="route"?e.jsxs(G,{className:`nav-link ${g?"active":""}`,to:`${u.link}`,children:[e.jsx("i",{className:"icon",children:e.jsx("i",{className:u.iconClass})}),e.jsx("span",{className:"item-name",children:U(u.label,"admin","kivicare-clinic-management-system")}),S&&e.jsx("span",{className:"pro-badge",children:"PRO"})]}):e.jsxs("a",{className:"nav-link",href:u.link,target:u.type==="href"?"_blank":"_self",rel:u.type==="href"?"noopener noreferrer":"",children:[e.jsx("i",{className:"icon",children:e.jsx("i",{className:u.iconClass})}),e.jsx("span",{className:"item-name",children:U(u.label,"admin","kivicare-clinic-management-system")}),S&&e.jsx("span",{className:"pro-badge",children:"PRO"})]})},b)};return a?e.jsxs("aside",{className:"sidebar sidebar-base",ref:d,children:[e.jsx("div",{className:"sidebar-header d-flex align-items-center justify-content-start position-relative",children:e.jsx("div",{className:"navbar-brand",children:e.jsx("div",{className:"skeleton-element kc-sidebar-logo-skeleton"})})}),e.jsx("div",{className:"sidebar-body pt-0 data-scrollbar",children:e.jsx("div",{className:"sidebar-list",children:e.jsx(oa,{})})}),e.jsx("div",{className:"sidebar-footer"})]}):e.jsxs("aside",{className:"sidebar sidebar-base",ref:d,children:[e.jsxs("div",{className:"sidebar-header d-flex align-items-center justify-content-start position-relative",children:[e.jsx(G,{to:"/",className:"navbar-brand",children:e.jsx("div",{className:"logo-main",children:c?e.jsx("img",{className:"logo-mini img-fluid",src:s?t?.darkSiteMiniLogo||t?.darkSiteLogo||t?.siteMiniLogo||"logo.png":t?.siteMiniLogo||t?.siteLogo||"logo.png",height:"30",alt:P("logo","kivicare")}):e.jsx("img",{className:"logo-normal",src:s?t?.darkSiteLogo||t?.siteLogo||"logo.png":t?.siteLogo||"logo.png",height:"45",alt:P("logo","kivicare")})})}),e.jsx("div",{className:"sidebar-toggle",onClick:()=>{d.current.classList.toggle("sidebar-mini");const u=d.current?.classList.contains("sidebar-mini")||!1;h(u),localStorage.setItem("kivicare_sidebar_layout",u?"mini":"normal"),window.dispatchEvent(new CustomEvent("kivicare_sidebar_layout_change",{detail:{layout:u?"mini":"normal"}}))},children:e.jsx("i",{className:"icon",children:e.jsx("i",{className:"icon-arrow ph ph-arrow-left",style:{fontSize:20}})})})]}),e.jsx("div",{className:"sidebar-body pt-0 data-scrollbar",children:e.jsx("div",{className:"sidebar-list",children:e.jsx("ul",{className:"navbar-nav iq-main-menu",id:"sidebar-menu",children:n.map(u=>w(u))})})}),e.jsx("div",{className:"sidebar-footer"})]})}const ca=m.memo(la);function da(){const{themeSettings:t}=H(),n=t?.copyrightText||"";return!n||n.trim()===""?null:e.jsx("footer",{className:"footer mt-4 py-3",children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12 text-center",children:e.jsx("p",{className:"mb-0",children:n})})})})})}var oe={exports:{}},le,bn;function dn(){if(bn)return le;bn=1;function t(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}return le=t,le}var ce,jn;function ee(){if(jn)return ce;jn=1;var t=Array.isArray;return ce=t,ce}var de,wn;function ua(){if(wn)return de;wn=1;var t=typeof J=="object"&&J&&J.Object===Object&&J;return de=t,de}var ue,yn;function Xt(){if(yn)return ue;yn=1;var t=ua(),n=typeof self=="object"&&self&&self.Object===Object&&self,r=t||n||Function("return this")();return ue=r,ue}var fe,Nn;function un(){if(Nn)return fe;Nn=1;var t=Xt(),n=t.Symbol;return fe=n,fe}var he,_n;function er(){if(_n)return he;_n=1;function t(n,r){for(var a=-1,s=n==null?0:n.length,i=Array(s);++a<s;)i[a]=r(n[a],a,n);return i}return he=t,he}var me,kn;function fa(){if(kn)return me;kn=1;var t=un(),n=Object.prototype,r=n.hasOwnProperty,a=n.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var h=!0}catch{}var d=a.call(o);return h&&(l?o[s]=c:delete o[s]),d}return me=i,me}var pe,Sn;function ha(){if(Sn)return pe;Sn=1;var t=Object.prototype,n=t.toString;function r(a){return n.call(a)}return pe=r,pe}var ge,Rn;function fn(){if(Rn)return ge;Rn=1;var t=un(),n=fa(),r=ha(),a="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:a:i&&i in Object(l)?n(l):r(l)}return ge=o,ge}var ve,Cn;function nr(){if(Cn)return ve;Cn=1;function t(n){return n!=null&&typeof n=="object"}return ve=t,ve}var xe,qn;function ma(){if(qn)return xe;qn=1;var t=fn(),n=nr(),r="[object Symbol]";function a(s){return typeof s=="symbol"||n(s)&&t(s)==r}return xe=a,xe}var be,Tn;function tr(){if(Tn)return be;Tn=1;var t=un(),n=er(),r=ee(),a=ma(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return n(l,o)+"";if(a(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return be=o,be}var je,In;function pa(){if(In)return je;In=1;function t(n,r,a){var s=-1,i=n.length;r<0&&(r=-r>i?0:i+r),a=a>i?i:a,a<0&&(a+=i),i=r>a?0:a-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=n[s+r];return o}return je=t,je}var we,Ln;function ga(){if(Ln)return we;Ln=1;var t=pa();function n(r,a,s){var i=r.length;return s=s===void 0?i:s,!a&&s>=i?r:t(r,a,s)}return we=n,we}var ye,En;function va(){if(En)return ye;En=1;function t(n,r,a,s){for(var i=n.length,o=a+(s?1:-1);s?o--:++o<i;)if(r(n[o],o,n))return o;return-1}return ye=t,ye}var Ne,On;function xa(){if(On)return Ne;On=1;function t(n){return n!==n}return Ne=t,Ne}var _e,An;function ba(){if(An)return _e;An=1;function t(n,r,a){for(var s=a-1,i=n.length;++s<i;)if(n[s]===r)return s;return-1}return _e=t,_e}var ke,$n;function rr(){if($n)return ke;$n=1;var t=va(),n=xa(),r=ba();function a(s,i,o){return i===i?r(s,i,o):t(s,n,o)}return ke=a,ke}var Se,Pn;function ja(){if(Pn)return Se;Pn=1;var t=rr();function n(r,a){for(var s=r.length;s--&&t(a,r[s],0)>-1;);return s}return Se=n,Se}var Re,Mn;function wa(){if(Mn)return Re;Mn=1;function t(n){return n.split("")}return Re=t,Re}var Ce,Dn;function ya(){if(Dn)return Ce;Dn=1;var t="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+r+a,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(h){return l.test(h)}return Ce=c,Ce}var qe,Fn;function Na(){if(Fn)return qe;Fn=1;var t="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+r+a,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",y=h+"?",w="["+i+"]?",u="(?:"+x+"(?:"+[d,f,p].join("|")+")"+w+y+")*",b=w+y+u,g="(?:"+[d+l+"?",l,f,p,o].join("|")+")",v=RegExp(c+"(?="+c+")|"+g+b,"g");function S(j){return j.match(v)||[]}return qe=S,qe}var Te,Un;function _a(){if(Un)return Te;Un=1;var t=wa(),n=ya(),r=Na();function a(s){return n(s)?r(s):t(s)}return Te=a,Te}var Ie,Wn;function ka(){if(Wn)return Ie;Wn=1;var t=tr();function n(r){return r==null?"":t(r)}return Ie=n,Ie}var Le,Hn;function Sa(){if(Hn)return Le;Hn=1;var t=/\s/;function n(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return Le=n,Le}var Ee,Bn;function Ra(){if(Bn)return Ee;Bn=1;var t=tr(),n=ga(),r=ja(),a=_a(),s=ka(),i=Sa();function o(l,c,h){if(l=s(l),l&&(h||c===void 0))return l.slice(0,i(l)+1);if(!l||!(c=t(c)))return l;var d=a(l),f=r(d,a(c))+1;return n(d,0,f).join("")}return Ee=o,Ee}var Oe,Gn;function Ca(){if(Gn)return Oe;Gn=1;var t=fn(),n=ee(),r=nr(),a="[object String]";function s(i){return typeof i=="string"||!n(i)&&r(i)&&t(i)==a}return Oe=s,Oe}var Ae,Kn;function ar(){if(Kn)return Ae;Kn=1;function t(n){return n}return Ae=t,Ae}var $e,zn;function qa(){if(zn)return $e;zn=1;function t(n,r,a){switch(a.length){case 0:return n.call(r);case 1:return n.call(r,a[0]);case 2:return n.call(r,a[0],a[1]);case 3:return n.call(r,a[0],a[1],a[2])}return n.apply(r,a)}return $e=t,$e}var Pe,Vn;function Ta(){if(Vn)return Pe;Vn=1;var t=qa(),n=Math.max;function r(a,s,i){return s=n(s===void 0?a.length-1:s,0),function(){for(var o=arguments,l=-1,c=n(o.length-s,0),h=Array(c);++l<c;)h[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=i(h),t(a,this,d)}}return Pe=r,Pe}var Me,Qn;function Ia(){if(Qn)return Me;Qn=1;function t(n){return function(){return n}}return Me=t,Me}var De,Jn;function La(){if(Jn)return De;Jn=1;var t=fn(),n=dn(),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!n(l))return!1;var c=t(l);return c==a||c==s||c==r||c==i}return De=o,De}var Fe,Zn;function Ea(){if(Zn)return Fe;Zn=1;var t=Xt(),n=t["__core-js_shared__"];return Fe=n,Fe}var Ue,Yn;function Oa(){if(Yn)return Ue;Yn=1;var t=Ea(),n=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!n&&n in a}return Ue=r,Ue}var We,Xn;function Aa(){if(Xn)return We;Xn=1;var t=Function.prototype,n=t.toString;function r(a){if(a!=null){try{return n.call(a)}catch{}try{return a+""}catch{}}return""}return We=r,We}var He,et;function $a(){if(et)return He;et=1;var t=La(),n=Oa(),r=dn(),a=Aa(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,h=l.hasOwnProperty,d=RegExp("^"+c.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||n(p))return!1;var x=t(p)?d:i;return x.test(a(p))}return He=f,He}var Be,nt;function Pa(){if(nt)return Be;nt=1;function t(n,r){return n?.[r]}return Be=t,Be}var Ge,tt;function Ma(){if(tt)return Ge;tt=1;var t=$a(),n=Pa();function r(a,s){var i=n(a,s);return t(i)?i:void 0}return Ge=r,Ge}var Ke,rt;function Da(){if(rt)return Ke;rt=1;var t=Ma(),n=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Ke=n,Ke}var ze,at;function Fa(){if(at)return ze;at=1;var t=Ia(),n=Da(),r=ar(),a=n?function(s,i){return n(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return ze=a,ze}var Ve,st;function Ua(){if(st)return Ve;st=1;var t=800,n=16,r=Date.now;function a(s){var i=0,o=0;return function(){var l=r(),c=n-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Ve=a,Ve}var Qe,it;function Wa(){if(it)return Qe;it=1;var t=Fa(),n=Ua(),r=n(t);return Qe=r,Qe}var Je,ot;function Ha(){if(ot)return Je;ot=1;var t=ar(),n=Ta(),r=Wa();function a(s,i){return r(n(s,i,t),s+"")}return Je=a,Je}var Ze,lt;function Ba(){if(lt)return Ze;lt=1;function t(n,r,a,s){for(var i=a-1,o=n.length;++i<o;)if(s(n[i],r))return i;return-1}return Ze=t,Ze}var Ye,ct;function Ga(){if(ct)return Ye;ct=1;function t(n){return function(r){return n(r)}}return Ye=t,Ye}var Xe,dt;function Ka(){if(dt)return Xe;dt=1;function t(n,r){var a=-1,s=n.length;for(r||(r=Array(s));++a<s;)r[a]=n[a];return r}return Xe=t,Xe}var en,ut;function za(){if(ut)return en;ut=1;var t=er(),n=rr(),r=Ba(),a=Ga(),s=Ka(),i=Array.prototype,o=i.splice;function l(c,h,d,f){var p=f?r:n,x=-1,y=h.length,w=c;for(c===h&&(h=s(h)),d&&(w=t(c,a(d)));++x<y;)for(var u=0,b=h[x],g=d?d(b):b;(u=p(w,g,u,f))>-1;)w!==c&&o.call(w,u,1),o.call(c,u,1);return c}return en=l,en}var nn,ft;function Va(){if(ft)return nn;ft=1;var t=za();function n(r,a){return r&&r.length&&a&&a.length?t(r,a):r}return nn=n,nn}var tn,ht;function Qa(){if(ht)return tn;ht=1;var t=Ha(),n=Va(),r=t(n);return tn=r,tn}var rn,mt;function sr(){if(mt)return rn;mt=1;const t=ee(),n=Ca(),r=Qa();var a=0;class s{constructor(o){this.id=++a,t(o)?(this.open=o[0],this.close=o[1]):n(o)&&(this.text=o),this.children=[]}append(o){o instanceof s||(o=new s(o)),o._parent&&r(o._parent.children,o),o._parent=this,this.children=this.children.concat(o)}render(){var o="";this.open&&(o+=this.open),this.text&&(o+=this.text);for(var l=0;l<this.children.length;l++)o+=this.children[l].render();return this.close&&(o+=this.close),o}parent(){return this._parent}}return rn=s,rn}var an,pt;function Ja(){return pt||(pt=1,an={encodeLink:n=>encodeURI(n).replace(/\(/i,"%28").replace(/\)/i,"%29").replace(/(\?|&)response-content-disposition=attachment.*$/,"")}),an}var sn,gt;function Za(){if(gt)return sn;gt=1;const t=sr(),{encodeLink:n}=Ja();return sn={embed:{image:function(r){this.append("![]("+n(r)+")")},thematic_break:function(){this.open=`
---
`+this.open}},inline:{italic:function(){return["_","_"]},bold:function(){return["**","**"]},link:function(r){return["[","]("+r+")"]}},block:{header:function({header:r}){this.open="#".repeat(r)+" "+this.open},blockquote:function(){this.open="> "+this.open},list:{group:function(){return new t(["",`
`])},line:function(r,a){if(r.list==="bullet")this.open="- "+this.open;else if(r.list==="checked")this.open="- [x] "+this.open;else if(r.list==="unchecked")this.open="- [ ] "+this.open;else if(r.list==="ordered"){a.count=a.count||0;var s=++a.count;this.open=s+". "+this.open}}}}},sn}var vt;function Ya(){return vt||(vt=1,(function(t,n){const r=dn(),a=ee(),s=Ra(),i=Za(),o=sr();t.exports=function(h,d=i){return s(l(h,d).render())+`
`};function l(h,d){var f,p,x,y,w,u=new o;function b(){x=p=new o(["",`
`]),u.append(p),y={}}b();for(var g=0;g<h.length;g++){var v=h[g];if(r(v.insert))for(var S in v.insert)d.embed[S]&&(D(v.attributes),d.embed[S].call(x,v.insert[S],v.attributes));else{var j=v.insert.split(`
`);if(c(v.attributes,d)){for(var L=1;L<j.length;L++)for(var R in v.attributes)if(d.block[R]){var k=d.block[R];typeof k=="object"&&(f&&f.type!==R&&(f=null),!f&&k.group&&(f={el:k.group(),type:R,value:v.attributes[S],distance:0},u.append(f.el)),f&&(f.el.append(p),f.distance=0),k=k.line),k.call(p,v.attributes,f),b();break}w=!0}else{for(var q=0;q<j.length;q++)(q>0||w)&&f&&++f.distance>=2&&(f=null),D(v.attributes,h[g+1]&&h[g+1].attributes),x.append(j[q]),q<j.length-1&&b();w=!1}}}return u;function D(N,_){var C=[],E=[];N=N||{};for(var I=x,K={};I._format;){if(K[I._format]=!0,!N[I._format]){for(var ne in K)delete y[ne];x=I.parent()}I=I.parent()}for(var $ in N)if(d.inline[$]){if(y[$]&&y[$]===N[$])continue;_&&N[$]===_[$]?C.push($):E.push($),y[$]=N[$]}C.forEach(B),E.forEach(B);function B(T){var F=d.inline[T].call(null,N[T]);a(F)&&(F=new o(F)),F._format=T,x.append(F),x=F}}}function c(h,d){for(var f in h)if(Object.keys(d.block).includes(f))return!0;return!1}})(oe)),oe.exports}var on,xt;function Xa(){return xt||(xt=1,on={deltaToMarkdown:Ya()}),on}Xa();const es=({variant:t="card",rows:n=3,columns:r=4,height:a=null,className:s=""})=>{const i=({width:f="100%",height:p="1rem",className:x=""})=>e.jsx("div",{className:`skeleton-element ${x}`,style:{width:f,height:p},role:"status","aria-label":"Loading content"}),o=()=>e.jsx("div",{className:`card skeleton-card ${s}`,children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsx(i,{width:"40%",height:"1.5rem"}),e.jsx(i,{width:"2rem",height:"2rem",className:"rounded-circle"})]}),e.jsx(i,{width:"60%",height:"2rem",className:"mb-2"}),e.jsx(i,{width:"80%",height:"1rem"})]})}),l=()=>e.jsx("div",{className:`card skeleton-table ${s}`,children:e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"d-flex gap-3 mb-3 pb-3 border-bottom",children:Array.from({length:r}).map((f,p)=>e.jsx(i,{width:`${100/r}%`,height:"1.25rem"},`header-${p}`))}),Array.from({length:n}).map((f,p)=>e.jsx("div",{className:"d-flex gap-3 mb-3 align-items-center",children:Array.from({length:r}).map((x,y)=>e.jsx(i,{width:`${100/r}%`,height:"1rem"},`cell-${p}-${y}`))},`row-${p}`))]})}),c=()=>e.jsx("div",{className:`card skeleton-form ${s}`,children:e.jsxs("div",{className:"card-body",children:[e.jsx(i,{width:"30%",height:"1.5rem",className:"mb-4"}),Array.from({length:n}).map((f,p)=>e.jsxs("div",{className:"mb-3",children:[e.jsx(i,{width:"20%",height:"1rem",className:"mb-2"}),e.jsx(i,{width:"100%",height:"2.5rem"})]},`field-${p}`)),e.jsxs("div",{className:"d-flex gap-2 mt-4",children:[e.jsx(i,{width:"8rem",height:"2.5rem"}),e.jsx(i,{width:"8rem",height:"2.5rem"})]})]})}),h=()=>e.jsx("div",{className:`card skeleton-list ${s}`,children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[e.jsx(i,{width:"30%",height:"1.5rem"}),e.jsx(i,{width:"8rem",height:"2rem"})]}),Array.from({length:n}).map((f,p)=>e.jsx("div",{className:"bg-body p-3 rounded-3 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsx(i,{width:"3rem",height:"3rem",className:"rounded-circle"}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx(i,{width:"40%",height:"1.25rem",className:"mb-2"}),e.jsx(i,{width:"60%",height:"1rem"})]}),e.jsx(i,{width:"6rem",height:"1rem"})]})},`item-${p}`))]})}),d=()=>e.jsx("div",{className:"insights-container dashboard-insights-container stash-cards grid-count-4",children:Array.from({length:4}).map((f,p)=>e.jsx("div",{className:"card skeleton-stat",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[e.jsx(i,{width:"50%",height:"1rem"}),e.jsx(i,{width:"2.5rem",height:"2.5rem",className:"rounded-circle"})]}),e.jsx(i,{width:"40%",height:"2rem",className:"mb-1"}),e.jsx(i,{width:"30%",height:"0.875rem"})]})},`stat-${p}`))});switch(t){case"table":return e.jsx(l,{});case"form":return e.jsx(c,{});case"list":return e.jsx(h,{});case"stats":return e.jsx(d,{});case"card":default:return e.jsx(o,{})}},ns=()=>{const{userRole:t,sidebarItems:n,loading:r}=H(),a=Nt(),s=m.useRef(null),[i,o]=m.useState(!1),l=h=>h.startsWith("/setting")||h.startsWith("/encounter")||h.startsWith("/patient/profile");m.useEffect(()=>{const h=a.pathname,d=s.current;if(d===null){o(!1),s.current=h;return}const f=l(h),p=l(d),x=f==!1||p==!1;o(x),s.current=h},[a.pathname]);const c=n&&n.length||r>0;return e.jsxs("div",{className:`wrapper ${c?"":"sidebar-hidden"}`,children:[c&&e.jsx(ca,{userRole:t}),e.jsxs("main",{className:"main-content",children:[e.jsx(ia,{}),e.jsx("div",{className:"content-inner",children:e.jsx("div",{className:"container-fluid pb-0",children:e.jsx(m.Suspense,{fallback:e.jsx(es,{variant:"card"}),children:i?e.jsx(Gr,{}):e.jsx(_t,{})})})}),e.jsx(da,{})]})]})},bt=()=>{const{loading:t}=H();return e.jsx("div",{className:"wrapper",children:e.jsx("main",{className:"main-content",children:e.jsx(_t,{})})})},jt=()=>{const t=pr();return m.useEffect(()=>((()=>{if(window.jQuery){const r=window.jQuery;r(document).on("heartbeat-tick.kivicare_auth",function(a,s){if(s["wp-auth-check"]===!1){console.log("WordPress auth check failed, redirecting to login"),window.kc_frontend.nonce="",t("/login",{replace:!0,state:{message:{text:"Your session has expired. Please login again.",type:"error"}}});return}s.kivicare_auth_response&&(s.kivicare_auth_response.is_authenticated||(console.log("User not authenticated, redirecting to login"),t("/login",{replace:!0,state:{message:{text:"Your session has expired. Please login again.",type:"error"}}})))})}})(),()=>{if(window.jQuery){const r=window.jQuery;r(document).off("heartbeat-tick.kivicare_auth")}}),[t]),null},ts=wp.hooks.applyFilters("kivicare.dashboard.routes",Kr()),rs=()=>{const{sidebarItems:t,loading:n,hasCapability:r,userRole:a}=H();if(n)return null;const s=o=>o&&o!=="#"&&!o.startsWith("#");if(t?.length>0)for(const o of t){if(s(o.link))return e.jsx(te,{to:o.link,replace:!0});const l=o.childrens?.find(c=>s(c.link));if(l)return e.jsx(te,{to:l.link,replace:!0})}let i="/dashboard";return gr(a)&&r("patient_profile")||vr(a)&&r("doctor_profile")||xr(a)&&r("receptionist_profile")?i="/profile":(br(a)||jr(a)&&r("settings_view"))&&(i="/setting"),e.jsx(te,{to:i,replace:!0})},wt=[{path:"/",element:se(e.jsxs(re,{children:[e.jsx(jt,{}),e.jsx(ns,{})]})),children:[{path:"",element:e.jsx(rs,{}),index:!0},...gn(ts)],errorElement:e.jsx(ie,{})},{path:"/clinic-setup",title:"Clinic Setup",element:se(e.jsxs(re,{children:[e.jsx(jt,{}),e.jsx(bt,{})]})),children:gn(Vr),errorElement:e.jsx(ie,{})},{path:"/login",title:"Login",element:se(e.jsx(re,{children:e.jsx(bt,{})})),children:[{path:"/login",element:e.jsx(zr,{})}],errorElement:e.jsx(ie,{})}],as=document.getElementById("kc-dashboard"),ss=wr.createRoot(as),is=window.kc_frontend.locale_data?window.kc_frontend.locale_data||{"":{}}:{"":{}};yt(is,"kivicare-clinic-management-system");const os=new Jr({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),ir=window.kc_frontend.dashboard_url||"/",or=ir.includes("?");let lr="/";or||(lr=ir.replace(window.location.origin,"").replace(/\/+$/,""));const ls=or?yr(wt):Nr(wt,{basename:lr});ss.render(e.jsx(_r.StrictMode,{children:e.jsxs(kr,{client:os,children:[e.jsx(Qr,{}),e.jsx(Yr,{router:ls}),e.jsx(Zr,{initialIsOpen:!1})]})}));
