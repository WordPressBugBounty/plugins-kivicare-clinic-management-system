import{v as a}from"./index-DaLzaML2.js";import{ar as d}from"./TransitionRoutes-CvO8mWuj.js";function re(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function oe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?re(Object(t),!0).forEach(function(n){se(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function B(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(e){return typeof e}:B=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(r)}function se(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ee(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function ce(r,e){if(r==null)return{};var t=Ee(r,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function L(r,e){return ye(r)||ge(r,e)||ke(r,e)||Se()}function ye(r){if(Array.isArray(r))return r}function ge(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],s=!0,o=!1,c,l;try{for(t=t.call(r);!(s=(c=t.next()).done)&&(n.push(c.value),!(e&&n.length===e));s=!0);}catch(i){o=!0,l=i}finally{try{!s&&t.return!=null&&t.return()}finally{if(o)throw l}}return n}}function ke(r,e){if(r){if(typeof r=="string")return ae(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ae(r,e)}}function ae(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=function(e,t,n){var s=!!n,o=a.useRef(n);a.useEffect(function(){o.current=n},[n]),a.useEffect(function(){if(!s||!e)return function(){};var c=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,c),function(){e.off(t,c)}},[s,t,e,o])},N=function(e){var t=a.useRef(e);return a.useEffect(function(){t.current=e},[e]),t.current},M=function(e){return e!==null&&B(e)==="object"},be=function(e){return M(e)&&typeof e.then=="function"},Pe=function(e){return M(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ie="[object Object]",J=function r(e,t){if(!M(e)||!M(t))return e===t;var n=Array.isArray(e),s=Array.isArray(t);if(n!==s)return!1;var o=Object.prototype.toString.call(e)===ie,c=Object.prototype.toString.call(t)===ie;if(o!==c)return!1;if(!o&&!n)return e===t;var l=Object.keys(e),i=Object.keys(t);if(l.length!==i.length)return!1;for(var C={},f=0;f<l.length;f+=1)C[l[f]]=!0;for(var S=0;S<i.length;S+=1)C[i[S]]=!0;var u=Object.keys(C);if(u.length!==l.length)return!1;var m=e,P=t,h=function(b){return r(m[b],P[b])};return u.every(h)},le=function(e,t,n){return M(e)?Object.keys(e).reduce(function(s,o){var c=!M(t)||!J(e[o],t[o]);return n.includes(o)?(c&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):c?oe(oe({},s||{}),{},se({},o,e[o])):s},null):null},de="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ue=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de;if(e===null||Pe(e))return e;throw new Error(t)},H=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:de;if(be(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return ue(s,t)})};var n=ue(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},G=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},W=a.createContext(null);W.displayName="ElementsContext";var pe=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},xe=function(e){var t=e.stripe,n=e.options,s=e.children,o=a.useMemo(function(){return H(t)},[t]),c=a.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(n):null}}),l=L(c,2),i=l[0],C=l[1];a.useEffect(function(){var u=!0,m=function(h){C(function(x){return x.stripe?x:{stripe:h,elements:h.elements(n)}})};return o.tag==="async"&&!i.stripe?o.stripePromise.then(function(P){P&&u&&m(P)}):o.tag==="sync"&&!i.stripe&&m(o.stripe),function(){u=!1}},[o,i,n]);var f=N(t);a.useEffect(function(){f!==null&&f!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,t]);var S=N(n);return a.useEffect(function(){if(i.elements){var u=le(n,S,["clientSecret","fonts"]);u&&i.elements.update(u)}},[n,S,i.elements]),a.useEffect(function(){G(i.stripe)},[i.stripe]),a.createElement(W.Provider,{value:i},s)};xe.propTypes={stripe:d.any,options:d.object};var fe=function(e){var t=a.useContext(W);return pe(t,e)},Be=function(){var e=fe("calls useElements()"),t=e.elements;return t},Oe=function(e){var t=e.children,n=fe("mounts <ElementsConsumer>");return t(n)};Oe.propTypes={children:d.func.isRequired};var Re=["on","session"],Y=a.createContext(null);Y.displayName="CheckoutSdkContext";var me=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},Q=a.createContext(null);Q.displayName="CheckoutContext";var Ae=function(e,t){if(!e)return null;e.on,e.session;var n=ce(e,Re);return Object.assign(t||e.session(),n)},we="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",je=function(e){var t=e.stripe,n=e.options,s=e.children,o=a.useMemo(function(){return H(t,we)},[t]),c=a.useState(null),l=L(c,2),i=l[0],C=l[1],f=a.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,checkoutSdk:null}}),S=L(f,2),u=S[0],m=S[1],P=function(g,O){m(function(w){return w.stripe&&w.checkoutSdk?w:{stripe:g,checkoutSdk:O}})},h=a.useRef(!1);a.useEffect(function(){var A=!0;return o.tag==="async"&&!u.stripe?o.stripePromise.then(function(g){g&&A&&!h.current&&(h.current=!0,g.initCheckout(n).then(function(O){O&&(P(g,O),O.on("change",C))}))}):o.tag==="sync"&&o.stripe&&!h.current&&(h.current=!0,o.stripe.initCheckout(n).then(function(g){g&&(P(o.stripe,g),g.on("change",C))})),function(){A=!1}},[o,u,n,C]);var x=N(t);a.useEffect(function(){x!==null&&x!==t&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[x,t]);var b=N(n),T=N(u.checkoutSdk);a.useEffect(function(){var A,g,O,w;if(u.checkoutSdk){var $=!!(!T&&u.checkoutSdk),q=b==null||(A=b.elementsOptions)===null||A===void 0?void 0:A.appearance,_=n==null||(g=n.elementsOptions)===null||g===void 0?void 0:g.appearance,F=!J(_,q);_&&(F||$)&&u.checkoutSdk.changeAppearance(_);var U=b==null||(O=b.elementsOptions)===null||O===void 0?void 0:O.fonts,I=n==null||(w=n.elementsOptions)===null||w===void 0?void 0:w.fonts,R=!J(U,I);I&&(R||$)&&u.checkoutSdk.loadFonts(I)}},[n,b,u.checkoutSdk,T]),a.useEffect(function(){G(u.stripe)},[u.stripe]);var D=a.useMemo(function(){return Ae(u.checkoutSdk,i)},[u.checkoutSdk,i]);return u.checkoutSdk?a.createElement(Y.Provider,{value:u},a.createElement(Q.Provider,{value:D},s)):null};je.propTypes={stripe:d.any,options:d.shape({fetchClientSecret:d.func.isRequired,elementsOptions:d.object}).isRequired};var Ie=function(e){var t=a.useContext(Y);return me(t,e)},z=function(e){var t=a.useContext(Y),n=a.useContext(W);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?me(t,e):pe(n,e)},We=function(){Ie("calls useCheckout()");var e=a.useContext(Q);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},Ne=["mode"],Ue=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},v=function(e,t){var n="".concat(Ue(e),"Element"),s=function(i){var C=i.id,f=i.className,S=i.options,u=S===void 0?{}:S,m=i.onBlur,P=i.onFocus,h=i.onReady,x=i.onChange,b=i.onEscape,T=i.onClick,D=i.onLoadError,A=i.onLoaderStart,g=i.onNetworksChange,O=i.onConfirm,w=i.onCancel,$=i.onShippingAddressChange,q=i.onShippingRateChange,_=i.onSavedPaymentMethodRemove,F=i.onSavedPaymentMethodUpdate,U=z("mounts <".concat(n,">")),I="elements"in U?U.elements:null,R="checkoutSdk"in U?U.checkoutSdk:null,he=a.useState(null),Z=L(he,2),E=Z[0],Ce=Z[1],j=a.useRef(null),V=a.useRef(null);k(E,"blur",m),k(E,"focus",P),k(E,"escape",b),k(E,"click",T),k(E,"loaderror",D),k(E,"loaderstart",A),k(E,"networkschange",g),k(E,"confirm",O),k(E,"cancel",w),k(E,"shippingaddresschange",$),k(E,"shippingratechange",q),k(E,"savedpaymentmethodremove",_),k(E,"savedpaymentmethodupdate",F),k(E,"change",x);var K;h&&(e==="expressCheckout"?K=h:K=function(){h(E)}),k(E,"ready",K),a.useLayoutEffect(function(){if(j.current===null&&V.current!==null&&(I||R)){var y=null;if(R)switch(e){case"payment":y=R.createPaymentElement(u);break;case"address":if("mode"in u){var te=u.mode,ne=ce(u,Ne);if(te==="shipping")y=R.createShippingAddressElement(ne);else if(te==="billing")y=R.createBillingAddressElement(ne);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":y=R.createExpressCheckoutElement(u);break;case"currencySelector":y=R.createCurrencySelectorElement();break;case"taxId":y=R.createTaxIdElement(u);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(y=I.create(e,u));j.current=y,Ce(y),y&&y.mount(V.current)}},[I,R,u]);var ee=N(u);return a.useEffect(function(){if(j.current){var y=le(u,ee,["paymentRequest"]);y&&"update"in j.current&&j.current.update(y)}},[u,ee]),a.useLayoutEffect(function(){return function(){if(j.current&&typeof j.current.destroy=="function")try{j.current.destroy(),j.current=null}catch{}}},[]),a.createElement("div",{id:C,className:f,ref:V})},o=function(i){z("mounts <".concat(n,">"));var C=i.id,f=i.className;return a.createElement("div",{id:C,className:f})},c=t?o:s;return c.propTypes={id:d.string,className:d.string,onChange:d.func,onBlur:d.func,onFocus:d.func,onReady:d.func,onEscape:d.func,onClick:d.func,onLoadError:d.func,onLoaderStart:d.func,onNetworksChange:d.func,onConfirm:d.func,onCancel:d.func,onShippingAddressChange:d.func,onShippingRateChange:d.func,onSavedPaymentMethodRemove:d.func,onSavedPaymentMethodUpdate:d.func,options:d.object},c.displayName=n,c.__elementType=e,c},p=typeof window>"u",X=a.createContext(null);X.displayName="EmbeddedCheckoutProviderContext";var ve=function(){var e=a.useContext(X);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},Me="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ye=function(e){var t=e.stripe,n=e.options,s=e.children,o=a.useMemo(function(){return H(t,Me)},[t]),c=a.useRef(null),l=a.useRef(null),i=a.useState({embeddedCheckout:null}),C=L(i,2),f=C[0],S=C[1];a.useEffect(function(){if(!(l.current||c.current)){var P=function(x){l.current||c.current||(l.current=x,c.current=l.current.initEmbeddedCheckout(n).then(function(b){S({embeddedCheckout:b})}))};o.tag==="async"&&!l.current&&(n.clientSecret||n.fetchClientSecret)?o.stripePromise.then(function(h){h&&P(h)}):o.tag==="sync"&&!l.current&&(n.clientSecret||n.fetchClientSecret)&&P(o.stripe)}},[o,n,f,l]),a.useEffect(function(){return function(){f.embeddedCheckout?(c.current=null,f.embeddedCheckout.destroy()):c.current&&c.current.then(function(){c.current=null,f.embeddedCheckout&&f.embeddedCheckout.destroy()})}},[f.embeddedCheckout]),a.useEffect(function(){G(l)},[l]);var u=N(t);a.useEffect(function(){u!==null&&u!==t&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[u,t]);var m=N(n);return a.useEffect(function(){if(m!=null){if(n==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}n.clientSecret===void 0&&n.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),m.clientSecret!=null&&n.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),m.fetchClientSecret!=null&&n.fetchClientSecret!==m.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),m.onComplete!=null&&n.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),m.onShippingDetailsChange!=null&&n.onShippingDetailsChange!==m.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),m.onLineItemsChange!=null&&n.onLineItemsChange!==m.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[m,n]),a.createElement(X.Provider,{value:f},s)},_e=function(e){var t=e.id,n=e.className,s=ve(),o=s.embeddedCheckout,c=a.useRef(!1),l=a.useRef(null);return a.useLayoutEffect(function(){return!c.current&&o&&l.current!==null&&(o.mount(l.current),c.current=!0),function(){if(c.current&&o)try{o.unmount(),c.current=!1}catch{}}},[o]),a.createElement("div",{ref:l,id:t,className:n})},Le=function(e){var t=e.id,n=e.className;return ve(),a.createElement("div",{id:t,className:n})},De=p?Le:_e,qe=function(){var e=z("calls useStripe()"),t=e.stripe;return t},Fe=v("auBankAccount",p),Ve=v("card",p),Ke=v("cardNumber",p),Je=v("cardExpiry",p),ze=v("cardCvc",p),He=v("fpxBank",p),Ge=v("iban",p),Qe=v("idealBank",p),Xe=v("p24Bank",p),Ze=v("epsBank",p),et=v("payment",p),tt=v("expressCheckout",p),nt=v("currencySelector",p),rt=v("paymentRequestButton",p),ot=v("linkAuthentication",p),at=v("address",p),it=v("shippingAddress",p),ut=v("paymentMethodMessaging",p),st=v("affirmMessage",p),ct=v("afterpayClearpayMessage",p),lt=v("taxId",p);export{at as AddressElement,st as AffirmMessageElement,ct as AfterpayClearpayMessageElement,Fe as AuBankAccountElement,ze as CardCvcElement,Ve as CardElement,Je as CardExpiryElement,Ke as CardNumberElement,je as CheckoutProvider,nt as CurrencySelectorElement,xe as Elements,Oe as ElementsConsumer,De as EmbeddedCheckout,Ye as EmbeddedCheckoutProvider,Ze as EpsBankElement,tt as ExpressCheckoutElement,He as FpxBankElement,Ge as IbanElement,Qe as IdealBankElement,ot as LinkAuthenticationElement,Xe as P24BankElement,et as PaymentElement,ut as PaymentMethodMessagingElement,rt as PaymentRequestButtonElement,it as ShippingAddressElement,lt as TaxIdElement,We as useCheckout,Be as useElements,qe as useStripe};
